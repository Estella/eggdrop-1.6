# Makefile for doc/
# $Id: Makefile.in,v 1.8 2000/03/23 23:17:54 fabian Exp $

SHELL = /bin/sh
top_srcdir = @top_srcdir@
srcdir = @srcdir@
VPATH = @srcdir@

@SET_MAKE@
INSTALL = @INSTALL@
INSTALL_PROGRAM = @INSTALL_PROGRAM@
INSTALL_DATA = @INSTALL_DATA@
INSTALL_SCRIPT = @INSTALL_SCRIPT@

DOCS = BOTNET BUG-REPORT CONTENTS KNOWN-PROBLEMS MODULES \
UPDATES.pre1.3 UPDATES1.3 UPDATES1.4 UPDATES1.5 compiling.FAQ \
eggdrop.doc patch.howto tcl-commands.doc tricks motd.settings

MAN1 = man1/eggdrop.1

WEB_DOCS = $(srcdir)/web_docs/*.html
SETTING_DOCS = $(srcdir)/settings/mod.*

doofus:
	@echo ""
	@echo "Let's try this from the right directory..."
	@echo ""
	@cd .. && $(MAKE)

all: $(DOCS) $(MAN1)

clean:
	@rm -f *~

install:
	@if test ! -d $(DEST)/doc; then \
		echo "Creating a doc subdirectory."; \
		$(top_srcdir)/misc/mkinstalldirs $(DEST)/doc; \
	fi
	@if test ! -d $(DEST)/doc/man1; then \
		$(top_srcdir)/misc/mkinstalldirs $(DEST)/doc/man1; \
	fi
	@if test ! -d $(DEST)/doc/web_docs; then \
		$(top_srcdir)/misc/mkinstalldirs $(DEST)/doc/web_docs; \
	fi
	@if test ! -d $(DEST)/doc/settings; then \
		$(top_srcdir)/misc/mkinstalldirs $(DEST)/doc/settings; \
	fi
	@echo "Copying docs."
	@for i in $(DOCS); do \
		$(INSTALL_DATA) $(srcdir)/$$i $(DEST)/doc/; \
	done
	@for i in $(MAN1); do \
		$(INSTALL_DATA) $(srcdir)/$$i $(DEST)/doc/man1/; \
	done
	@$(INSTALL_DATA) $(srcdir)/settings/core.settings $(DEST)/doc/settings/
	@if test "x`echo $(SETTING_DOCS)`" != "x$(SETTING_DOCS)"; then \
		for i in `echo $(SETTING_DOCS)`; do \
			$(INSTALL_DATA) $$i $(DEST)/doc/settings/; \
		done; \
	fi
	@if test "x`echo $(WEB_DOCS)`" != "x$(WEB_DOCS)"; then \
		for i in `echo $(WEB_DOCS)`; do \
			$(INSTALL_DATA) $$i $(DEST)/doc/web_docs/; \
		done; \
	fi

#safety hash
