<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!-- $Id: mod-filesys.html,v 1.11 2002/01/03 01:05:43 guppy Exp $ -->

<html>
  <head>
    <title>Eggdrop Documentation: Filesys Module</title>
  </head>

  <body>
    <div align="center">
      <p><strong>Filesys Module</strong></p>
    </div>
    <hr>

    <p>This module provides an area within the bot where users can store
    files. With this module the bot is useable as a file server.</p>

    <blockquote>
      <ol>
        <li><a href="#config">Config file settings</a></li>

        <li><a href="#tclcmds">Tcl commands</a></li>
      </ol>
    </blockquote>
    <hr>

    <p><a name="config"></a>1. <strong>Config file settings</strong></p>

    <blockquote>
      <p>Lines in <strong>bold</strong> are the lines that need to be
      included in the Eggdrop config file if you want to use the share
      module. Lines in <strong><em>bold italics</em></strong> are optional
      and only required if you wish to change the default behaviour for 
      that particular feature.</p>

      <p>This module provides the filesys support. You have to load this if
      you want your users to upload and download files from your bot.</p>

      <p>Put this line into your Eggdrop configuration file to load the
      filesys module:</p>

      <p><strong>loadmodule filesys</strong></p>

      <p>There are also some variables you can set in your config
      file:</p>
    </blockquote>

    <blockquote>
      <dl>
        <dt><strong><em>set files-path
        &quot;/home/mydir/eggdrop/filesys&quot;</em></strong></dt>

        <dd>
          <p>Set here the &#39;root&#39; directory for the file system.</p>
        </dd>

        <dt><strong> <em>set incoming-path
        &quot;/home/mydir/eggdrop/filesys/incoming&quot;</em></strong></dt>

        <dd>
          <p>If you want to allow uploads, set this to the directory uploads
          should be put into. Set this to &quot;&quot; if you don&#39;t want
          people to upload files to your bot.</p>
        </dd>

        <dt><strong><em>set upload-to-pwd 0</em></strong></dt>

        <dd>
          <p>If you don&#39;t want to have a central incoming directory, 
          but instead want uploads to go to the current directory that a 
          user is in, set this setting to 1.</p>
        </dd>

        <dt><strong><em>set filedb-path &quot;&quot;</em></strong></dt>

        <dd>
          <p>Eggdrop creates a &#39;.filedb&#39; file in each subdirectory
          of your file area to keep track of its own file system information.
          If you can&#39;t do that (for example, if the dcc path isn&#39;t
          owned by you, or you just don&#39;t want it to do that) specify 
          a path here where you&#39;d like all of the database files to be
          stored instead.</p>
        </dd>

        <dt><strong><em>set max-file-users 20</em></strong></dt>

        <dd>
          <p>Set here the maximum number of people that can be in the file 
          area at once. Setting this to 0 makes it effectively infinite.</p>
        </dd>

        <dt><strong><em>set max-filesize 1024</em></strong></dt>

        <dd>
          <p>Set here the maximum allowable file size that will be received 
          (in kb). Setting this to 0 makes it effectively infinite.</p>
        </dd>
      </dl>
    </blockquote>
    <hr>

    <p><a name="tclcmds"></a>2. <strong>Tcl commands</strong></p>

    <p>See doc/tcl-commands.doc for information on each of these 
    commands.</p>

    <blockquote>
      <ul>
        <li><strong>setpwd &lt;idx&gt; &lt;dir&gt;</strong></li>

        <li><strong>getpwd &lt;idx&gt;</strong></li>

        <li><strong>getfiles &lt;dir&gt;</strong></li>

        <li><strong>getdirs &lt;dir&gt;</strong></li>

        <li><strong>dccsend &lt;filename&gt; &lt;ircnick&gt;</strong></li>

        <li><strong>filesend &lt;idx&gt; &lt;filename&gt; [ircnick]</strong>
        </li>

        <li><strong>fileresend &lt;idx&gt; &lt;filename&gt; [ircnick]</strong>
        </li>

        <li><strong>setdesc &lt;dir&gt; &lt;file&gt; &lt;desc&gt;</strong>
        </li>

        <li><strong>getdesc &lt;dir&gt; &lt;file&gt;</strong></li>

        <li><strong>setowner &lt;dir&gt; &lt;file&gt; &lt;handle&gt;</strong>
        </li>

        <li><strong>getowner &lt;dir&gt; &lt;file&gt;</strong></li>

        <li><strong>setlink &lt;dir&gt; &lt;file&gt; &lt;link&gt;</strong>
        </li>

        <li><strong>getlink &lt;dir&gt; &lt;file&gt;</strong></li>

        <li><strong>getfileq &lt;handle&gt;</strong></li>

        <li><strong>getfilesendtime &lt;idx&gt;</strong></li>

        <li><strong>mkdir &lt;directory&gt; [&lt;required-flags&gt; 
        [channel]]</strong></li>

        <li><strong>rmdir &lt;directory&gt;</strong></li>

        <li><strong>mv &lt;file&gt; &lt;destination&gt;</strong></li>

        <li><strong>cp &lt;file&gt; &lt;destination&gt;</strong></li>

        <li><strong>getflags &lt;dir&gt;</strong></li>

        <li><strong>setflags &lt;dir&gt; [&lt;flags&gt; [channel]]</strong>
        </li>
      </ul>
    </blockquote>
    <hr>

    <p><em>Copyright &copy; 1997 Robey Pointer<br>
     Copyright &copy; 1999, 2000, 2001, 2002 <a href="http://www.eggheads.org/">
     Eggheads Development Team</a></em></p>
  </body>
</html>
