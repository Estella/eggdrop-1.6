
Changes in eggdrop: (since v1.1.5)
----------------------------------

1.3.0 let's do it
Found by  Fixed by  What...
          TheGhost  Added some more stuff msg status
          TheGhost  Cosmetic changes to dcc status
         KingKurly/ The kewl new default motd
          TheGhost
|mmortal  TheGhost  Fixed tcl-commands.doc
          TheGhost  Made configure fail if the system
                    doesn't support ANSI headers.
          KingKurly something small in the config file, can't remember what
          KingKurly bunch of minute junk in docs, i decided to polish them
                    up for the eventual release of 1.3.0
          KingKurly spelling errors in english.lang and blowfish
          Beldin    fixes for the move of text/
          TheGhost  added .voice .devoice
          TheGhost  Help files to reflect the above change
          Beldin    console.so memory leak, console_pack wasn't freeing old mem
          Beldin    shouldn't erase core hooks during .restart
          Beldin    tcl_rehash from within a proc was being bizarre, moved
                    rehash handling out to the main loop
Bogus     Beldin    bands of the form 6!*@* cause *major* head stress with share
          Beldin    bowed to pressure like the llama I am,
                    chattr nick +o #channel now works the old way
Bogus     Beldin    anybody could use console +th, +/- in .console was fr0ke
|mm       Beldin    tcl_newchanban was doing wrong comment, 'none' wasn't a
                    valid newban option
          Beldin    updated userinfo1.0 and moved email into it
          Beldin    move dcc chat handling where it should be
          Beldin    SIGSEGV & SIGBUS now dump core in -DEBUG mode
          Beldin    -host on a user with no hosts SEGV'd

Found by  Fixed by  What...
^You^     Beldin    .chat local-channel wasn't working right
Dtm       Beldin    minor fixes to my own stupidity
TG        Beldin    static portions should work in makefile now, also
                    BSDI's gmake is called all the time now
          Beldin    channel attr's were not being relayed (complex)
          Kirk      made variable substitution in the 'text' files, which
                    were moved into english.lang, possible
          Kirk      fixed niggly formatting errors when doing .whois
                    commands, etc..
BB        Beldin    you could .link to an already '.link'n bot, causing quite
                    a few problems
          Beldin    remove userfile upgrading support, weed does that now
          Beldin    DalNet in their infinite lameness make a new +r, handle
|mmortal  Beldin    .simul was simuling the simuler not the simulee :)
Bogus     Beldin    nick changes on the botnet were sick

"v1.3.0gamma"
Found by  Fixed by  What...
          TheGhost/
          Beldin    %U gives OS/version in motd
KingKurly Beldin    tcl_killdcc is consistent at least now
DK        Beldin    SEGV's on server signon (fixfrom wasn't fixed), removed
                    3 excess fixfrom calls too
          TheGhost  added the system name to the .status display
          TheGhost  Added a Botnet document for instructions on the new
                    flags and how to link bots for sharing
          TheGhost  Removed all the text files from /text and placed them
                    in english.lang for easy language changes. (this was
                    harder that it looks :) )
          TheGhost  Finished up the rest of the uname functions added
                    a new tcl variable called unames to complete all the
                    possible ways to use the system name and version
          TheGhost  Worked on moving some of the files from the text
                    directory into english.lang (I will eliminate this
                    beast one day.)
          Kirk      HANDLEN #define added
          Beldin    found just a few cases where HANDLEN need to be added
          Beldin    bots will only accept links with same-HANDLEN bots
          Beldin    optionally uses buffer-safer vsnprintf over vsprintf if
                    available, cleaned up some extra contexts & language
                    entries
          Beldin    party line from & away stored dynamically

v1.3.0beta
Found by  Fixed by  What...
|mmortal  Beldin    .tcl set botnick WOULD change the value
          BB        Language'ized wire.mod.
          BB        I forget.
          Beldin    moved JOINs to the MODE queue
          Beldin    set topic were not being stored correctly on join
DK        Beldin    compat's setxtra was SEGV'n
|mmortal  Beldin    channels.mod chon binding was hosing all other
                    console channel settings
BB        Beldin    user-get, user-set slightly hosed, map to getuser/setuser
|mmortal  Beldin    renamed module could be reloaded.
BB        Beldin    tcl_loadlanguage was logging incorrectly
          Beldin    ident lookups were causing SEGV's at bizarre times
          Beldin    server.mod wasn't cleaning server list on unload
          Beldin    mod_malloc was assuming the file entry was 21 chars not 20
          Beldin    .page off wasn't flushing held lines very neatly at all
Kirk      Beldin    files get with no nick failed
Kirk      Beldin    Beldin fr0ke .sort *slap*
          Beldin    .chinfo wasn't clearing info lines correctly
TheGhost  Beldin    .status didn't need the Mode(s) line anymore
TheGhost  Beldin    bot user@host wasn't displaying correctly in .status
Bogus     Beldin    owners could be boot by non-owners
BB        Beldin    missing break; in strip_mirc_codes
BB/       Beldin    optimized periodic_timers, dcc_activity, eof_dcc &
Beldin              call_hook just a little, removing a few function
                    calls at least
          Beldin    who replies were not handling strict-host properly

+bel1
Found by  Fixed by  What...
          Beldin    tweaked seen.so to work they way I like it, Sorry BB :)
dtm       Beldin    newbotname wasn't being initialized in server.so
BB        Beldin    -bc wasn't being passed correctly on the botnet
BB        Beldin    double dependency modules need to cleanup after
                    themselves
BB        Beldin    xtra_unpack was slooooooooooooooooooooow
          Beldin    fix of xtra_unpack can cleanup all other xtra handling
                    to include sharing (minor incompatibility with
                    previous versions)
          Beldin    minutely channel checks still occurred when
                    server was off line
|mmortal  Beldin    tcl_banlist had messed up list elements

+TG2
Found by  Fixed by  What...
          TheGhost  Fixed my configure error (Phear autoconf)
          TheGhost  Moved clientinfo defines into ctcp.h
          TheGhost  Added a define for have uname to configure

+TG
Found by  Fixed by  What...
          TheGhost  Moved the last bit of defines for ctcp into ctcp.c
                    from lang.h.
          TheGhost  fixed some spelling errors :P
KingKurly DK        crashing when trying to build a channel list
DK        DK        gets the banlist when it joins a channel instead of
                    ignoring it
          KingKurly More document fixes

BBub1 (does not affect eggdrop patch level)
Found by  Fixed by  What...
          BB        First hashing of install rule in Makefile.
          BB        Inclusion of Ode_To_Beldin.
          BB        Rework of wire.mod for the current, and changing of
                    internal tables from idx to sock.
          BB        gamespak.mod reworked for current (dist'd separately).
          BB        putegg relegated to obsolete/ -- kept, JIC...

v1.pre3.0 <- getting closer <G>
Found by  Fixed by  What...
Daklop    Beldin    netsplits were not detected as such
          Beldin    -ban for global +m's wasn't handling channels right
          Beldin    re-did help for ctcp, filesys
          Beldin    add module_rename function call allows a module
                    to be compiled&loaded under one name, and run under
                    another, e.g. blowfish renames itself to a more
                    suitable 'encryption'
          Beldin    strip_mirc_codes wasn't adding the \0 on the end
          Beldin    help blind flag toggles 2 settings now
                    (one for %help= one for %{+flags})
          Beldin    ident wasn't always kill sockets upon startup
          Beldin    nick change notices didn't include source bot
KingKurly Beldin    ctcp avalanches were SEGV'n
          Beldin    sanity check no longer needs to check against BOT_MASK
BB        Beldin    dolt, it helps to check your nick minutely
poptix    Beldin    booted .page'rs were being booted using bots IRC nick

+bel5
Found by  Fixed by  What...
          Beldin    .info none wasn't totally erasing the info line
          Beldin    .topic #gumbyville now works
BB        Beldin    tcl_killdcc wasn't kill anything
          Beldin    major help file lookup overhaul, added %b/%v/%_/%f
                    for bold/inverse/underline/flash with ircII or ansi
                    codings depending on the STAT_TELNET setting.
                    add/rem_help_reference (tcl equivs to)
                    to add/remove 'help files' from a repository
                    multiple help information within 1 file using
                    %{help=topic} with a .rehelp to re-read the help data
                    changed modules: assoc, blowfish, channels, compat,
                    console
          Beldin    added tcl_modules returns bucket loads of info about
                    modules & their dependencies
          Beldin    select error sockets are much more aggressively killed
                    now, hopefully fixing 1 of the nasty CPU spikes
          Beldin    it really helps to load languages *after* memory
                    debugging starts
          Beldin    removed a couple more cases of LOST_DCC

+bel4
Found by  Fixed by  What...
          Beldin    gotkick bug *slap*
Daklop    Beldin    *finally* found the laston time bug (/quit did it)
BB        Beldin    INVITE wasn't working
BB        Beldin    MODE #channel wasn't working

+bel3
Found by  Fixed by  What...
          dtM       channels.c channel_malloc typo
          Beldin    more relay fixes
Melvan    Beldin    take_revenge on a kicking user was passed wrong
                    nick!user@host
          Beldin    check-stoned's value should matter now
          Beldin    .filestats <user> clear now reports it's doing it.
Melvan    Beldin    new nick change message chanout wasn't working
|mmortal  Beldin    tcl_storenote was getting it's idx's mixed up
BB        Beldin    module_depend now returns the module function table
                    for ereet fast setting of values
          Q         doembeddedmode was calling get_op with wrong args
Melvan    Beldin    /msg op <channel> has permissions btf
Melvan    Beldin    .kick wasn't giving the given reason
Daklop    Beldin    strict-host didn't work
Daklop    Beldin    minutely calls to recheck_channel just didn't work
Q         Beldin    ircd2.9 uses : in it's umode msg
TheGhost  Beldin    flag changes were not being shared through a hub
|mmortal  Beldin    newchanban & newban has broken comments
BB        Beldin    bots were pinging out sometimes (-ve clock adjustment)
Melvan    Beldin    info line wasn't showing up on local bot if enable in
                    console.so
          Beldin    ircu's shorter who replies used on channel-join

+bel2
Found by  Fixed by  What...
          Beldin    compat's shareout !n needed a \n
          Beldin    SunOS 4 needs an #include <sys/stat.h> in transfer.c
          Beldin    bots were getting confused about aggressive/passive
                    status of connected share bots
Zarni     Beldin    wrong displayed message on eggdrop -m
Zarni     Beldin    wrongly added hosts on NEW from telnet (: != . doofus)
          Beldin    pseudo-memory leak in channels.c
          Beldin    passive bots were loosing entries for channels marked
                    +shared but not shared with their active partner
          Beldin    improved memory debugging under -DEBUG_MEM
          Beldin    found one of the stinking userrec.c mem leaks
          Beldin    found the other stinking userrec.c mem leak

+bel1
Found by  Fixed by  What...
Zarni     Beldin    error in list item 1 of tcl_botlist
          Beldin    console.so wasn't sending a botnet join
          Beldin    added checks in botmsg.c so i won't bother even
                    building messages unless linked

1.2.2
Found by  Fixed by  What...
DK        Beldin    bzero clash in src/mod/module.h
Zarni     Beldin    since some bindings are called multi-levelled, we need
                    different variable names for each binding
          Beldin    tcl_botlist added, returns all locally stored
                    info on bots (this ones for the llamas ;)
          Beldin    cleanups of the new tables
Melvan    Beldin    some setxtra's in weren't working (basically since-string
                    entries)
Zarni     Beldin    ctcp replies weren't happening
          BB        nuke pre 7.3 tcl support
          Beldin    segv in .tcl servers
          Beldin    implemented local.tcl in the code
          Beldin    converted console.tcl to console.so
          Beldin    fixed recursive call loop to recheck_channel
          Beldin    fixed seen SEGV on 'seen bf' with no xtra info
BB        Beldin    +chan was setting channels static

+bel26
Found by  Fixed by  What...
          Beldin    the +d/+k debate continues? in or out,it's up to you
                    (allow-dk-cmds)
          Beldin    finished switching modules back to a table lookup system
                    and it's faster, neater, smaller, why did I every
                    rely on the llama OS's ;)
          Beldin    chattr was erasing 'b' flag on sharing
          Beldin    .console was setting mode to (none) if no +/- arg
                    specified
Zarni     Beldin    various header file problems with the new tables
Zarni     Beldin    .fwd'n code was fr0ke
melvan    Beldin    unset +l/-l mode protect wasn't handled right.

+bel25
Found by  Fixed by  What...
melvan    Beldin    new telnet users weren't having their dcc[].user record
                    updated
melvan    Beldin    /msg's weren't being logged correctly
Q         Beldin    add *!user@host for bots rather than *!user@*.domain
DK        Beldin    option 3rd arg to +bot for host mask
|mm       Beldin    tcl_userlist takes a channel argument now
          Beldin    tcl_chanbans returns who & age values now
          Beldin    started switching back to table lookup for symbols
                    since this appears to be more usable & portable
Q         Beldin    .chnick handle   newhandle was messy

+BBub5
Found by  Fixed by  What...
          BB        tcl_chanlist wasn't working.
          BB        Pitched all the vanity do-nothing commands from
                    woobie.so. This novelty has worn off. woobie.so
                    is a skeletal/example module for programming.
          Beldin    Fix in servmsg.c for reversed args to strcpy.
          BB        Moved eggdrop.conf to eggdrop.conf.dist. It is unusable
                    as distributed, and prompts to "overwrite?" are silly.
          BB        Slight fix and change for message when creating chanfile.
          BB        Continued language system conversion.
BB        Beldin    Missing declarative for KICK binding in tclhash.h.
zarni     BB        Fixed message when changing password vi /MSG.
          BB        Fixed MSGb1f message when linking.
          BB        botchk is in scripts where it belongs. Copying it to
                    the base install directory is pointless, since it is
                    unusable as distributed.
          Beldin    Missing <errno.h> in dcc.c.


+bel24
Found by  Fixed by  What...
          Beldin    .unlink of a forking bot caused SEGV
          Beldin    pass & xtra sent before newuser info to share bots
Zarni     Beldin    implemented note forwarding in notes.so
          Beldin    a blank setting of fstat caused mucho spewo
BB        Beldin    +n's should be able to change just about anything
BB        Beldin    chan +m's couldn't kick/kickban +o's (now they can)
BB        Beldin    .link <thisbot> otherbot said no such bot online
BB        Beldin    squelched the bot change messages on share startup
          Beldin    you can no longer set a bot +as (you're asking for
                    trouble if you do anyway ;)
          Beldin    bot now logs WHAT error occurred when writing userfile
          Beldin    .info SEGV, check the char ptr doofus
          Beldin    .stick <number> wasn't reporting correctly
          Beldin    cascaded sharing implemented...
                    +s = share aggressively with this bot
                    +p = share passively with this bot
                    the bot will only accept 1 +p link at a time, any
                    number of +s's
          Beldin    siphoned off server.so & channels.so
          Beldin    +d/+k couldn't use dcc commands, even if they had +p
          Beldin    nuke msgcmds.so, chancmds.so, FINALLY added server.so
                    channels.so & irc.so

+bel23
Found by  Fixed by  What...
BB        Beldin    .restart is fragged again :/
          Beldin    server queue not being flush in .restart
KingKurly Beldin    module directory can now be set (mod-dir) Happy now KK :P
          Cfusion   put 'set telnet [listen...]' in the config file
dtM       Beldin    1st msg hello wasn't setting all the flags right
BB        Beldin    some parts need to be silent still
Q_        Beldin    +user could still have invalid handles
          Beldin    console.tcl was causing multiple join/part msgs
                    cause dcc_chatter was assuming too much
Bogus     Beldin    you can leave notes to the bot with /msg notes
BB        Beldin    +host <handle> "" should give help response

+kk4
Found by  Fixed by  What...
          KingKurly modules now compile to modules/
          KingKurly updated putegg and make install/make installquick
                    for new modules path
          KingKurly fixed spelling errors in this file (why? ;)
          KingKurly added an INSTALL file for dumb llamas who can't
                    read the entire README

+bel22
Found by  Fixed by  What...
BB        BB        .vbottree show patchlevel now
BB        Beldin    .su didn't update .user record
BB        Beldin    .die was trying to re-connect server immediately
BB        Beldin    .jump eof'n straight after connect
          Beldin    removed the user of tcl hash tables from tclhash.c
                    hence (a) sorting the binding list (b) allow
                    some bindings to be quited before check *every* binding
                    (c) less reliance on silly tcl ;)
          Beldin    .strip wasn't reporting correctly
          Beldin    bind chpt now matches vs channel rather than nick
BB        Beldin    was check wrong user when it got a ban, therefore
                    kicking *any* user when banned

+kk3
Found by  Fixed by  What...
          KingKurly I actually read the entire stinking source fixing every
                    spelling in comments! Geez I was bored!

+bel21
Found by  Fixed by  What...
BB        Beldin    whoops bind blah "m" command was letting *anyone*
                    execute it
BB        Beldin    servidx is unreliable since idx's move :/
          Beldin    added server-online r/o variable for how long
                    the current server has been up
BB        Beldin    +ban over sharenet wasn't logging
BB        Beldin    gotjoin wasn't rebuilding the nick!user@host before
                    testing bans
BB        BB        nicer def_display

+bel20
Found by  Fixed by  What...
          Beldin    NEW telnet users get a telnet!user@*.domain mask now
          Beldin    added a few extra bot/quiet-reject checks to msgcmds
Scuzzi    Beldin    /msg help was handling quiet-rejects round the wrong way
Zarni     Beldin    not all tcl's have TCL_PATCH_LEVEL, use TCL_VERSION
          Beldin    dcc[].user entries need to be cleared during
                    .rehash/.reload & partially cleared on finish_share
Daklop    Beldin    chan masters could still see other channels in .status
????      Beldin    .whois now only shows channels a user has at least
                    +o access too
BB        BB        segv in cmd_mv_cp
BB        BB        typo in .filestats
BB        BB        .nick was logging to old nick
LSC       Beldin    error in tcl-commands.doc about time binding
          Beldin    time binding uses 2 digits even for single digit #'s now
Kinslayer Beldin    without ctcp.so a known dcc chatter should get something
                    meaningful
BB        Beldin    cp <file> <dir> && .tcl cp <file> <dir> were a bit sick
BB        Beldin    .modulestat <module> was fr0k3
          Beldin    queue_sockets only reallocs a buffer when something
                    is sent, not every call, also detects EOF on socket
          Beldin    minutely rejoins of channels online occurs *after*
                    the server has set msg 001 (server_online updated then too)
          Beldin    created the SERVER_SOCKET dcc type, server is now
                    just like all the rest
          Beldin    msgcmds now a module
          Beldin    removed modmalloc/modcontext, use nmalloc/context now
          Beldin    chancmds.so contains all the channel *interaction*
                    flags (not the management ones)

+bel19
Found by  Fixed by  What...
          Beldin    .su'rs didn't have their .user entry updated
          Beldin    tinkering with bot links trying to avoid occasional boogers
          Beldin    get_user_by_handle now checks the dcclist as well
          Beldin    more tinkering with deq_msg in an attempt to balance
                    output to server
          Beldin    remote who wasn't showing chatters
          Beldin    resync wasn't sending channel data
          Beldin    resync wasn't sending botnet update info
BB        Beldin    display tcl library version in .status & DEBUG
BB        Beldin    display compile/link/strip flags in DEBUG
BB        Beldin    display tcl include file version in DEBUG
EraseMe   Beldin    +g strip flag (for ^g's)

+bel18
Found by  Fixed by  What...
BB        Beldin    .rehash/.reload was broadcast -ban/ignore
Prez      Beldin    .relay's from telnet showed passwords up
Zarni     Beldin    .who showed wrong sock # for users to owners
BB        BB        /msg who fix *again *
BB        Beldin    unlinks were passing chat msgs incorrectly
Prez      Beldin    autolink_cycle was fr0k3
          Beldin    remote 'linked to <bot>' message was sick
Zarni     Beldin    private_owner needed work
          Beldin    whoops potential buffer overflow in dcc_ident
          Beldin    remote filesharing fixed
BB        Beldin    .+ignore sharing was corrupting
BB        Beldin    /dcc send with no filesys was being interpreted as failed
                    dcc chat

+bel17
Found by  Fixed by  What...
Prez      Beldin    matchattr was br0ke
KingKurly Beldin    bogus unban caused mass kicks of bots in some cases
dtM       Beldin    added sanity_check on load, help old userfiles migrate
dtM       Beldin    chanout's were missing their ***'s
          Beldin    added quiet_reject checks to msg_ident
dtM       Beldin    msg_ident wasn't responding correctly to unknown ident
                    by unknown user
          Beldin    msg_ident doesn't allow ident vs a botnick

+bel16
Found by  Fixed by  What...
Immortal  Beldin    .-user with invalid console user segv'd
BB        BB        /msg info segv'd
BB        Beldin    unlink in 1.2.1 portion of a botnet might cause fake msg's
                    in other sections
BB        Beldin    .flush context'd (wally)
BB        Beldin    /dcc chat for non require_p + !+o was sick
BB        Beldin    .relay was going ballistic if it couldn't find the port

+kk2
Found by  Fixed by  What...
          KingKurly Added a r33t make install/make installquick - try it!
          KingKurly LOTS of general cosmetic/spelling/grammar stuff
          KingKurly Totally re-did eggdrop.conf

+bel15
Found by  Fixed by  What...
BB        Beldin    dcc chat's where nick != handle caused segv's
KingKurly Beldin    dcc chatters show up in who as files users
          Beldin    static linked share tries to start transfer module
          Beldin    private-owner wasn't working right
          Beldin    .reset should only work on active channels
          Beldin    .+ban wasn't adding the ban from the correct variable

+bel14
Found by  Fixed by  What...
          Beldin    cleaned up /dcc chat&sends a little
DarkDruid Beldin    No remote .unlink of sharebots, share-unlink values
poptix    poptix    remote bots could link already linked bot

+bel13
Found by  Fixed by  What...
          Beldin    remove telnet! from ident'd users no botnet
          Beldin    fix my breaks to raist's ident
          Beldin    *very* quick repetitive userfile transfers overwrote each other
          Beldin    max-dcc is 20 by default, less is real problems
          Beldin    many minor fixes to new filesys flags.
          Beldin    files ls neater for dirs now
Melvan    Beldin    dcc chat wasn't work
OldGroo   Beldin    .unlink during a .link was SEGV'n
OldGroo   Beldin    .-host broke for first host
BB        BB        tcl_getchanhost was returning nick as well
BB        Beldin    tcl_matchattr wasn't handling no -ve flags
OldGroo   Beldin    .-ban wasn't deleting the 1st ban
Beldin    Beldin    .bans display was broken (channel bans weren't registering)
Beldin    Beldin    .reset was erasing bans without re-requesting them
EraseMe   Beldin    .su from +n to non +n wasn't always setting up correctly
BB        Beldin    msg_who forgot the unknowns!

+bel12
Found by  Fixed by  What...
          Beldin    /msg who could buffer overflow on big channels
BB        Beldin    /msg who <channel> segv's
BB        Beldin    *slap* tcl_userlist crash *slap*
          Beldin    filedb overhauled, bye bye 230 redundant lines
Kirk      Beldin    channel specific access added to file area
                    [this one uses .filedb]
Raist     Beldin    ctcp.so added, most ctcp stuff is in it

+bel11
Found by  Fixed by  What...
          Beldin    user feedback for msg/act/say added
          Beldin    added msg_voice for /msg voice support
          Beldin    users without chanrecs were having their info shown
                    all the time
          Beldin    made the channel file use a little less space
          Beldin    flood-join, flood-chan, flood-kick, flood-deop,
                    flood-ctcp are now channel-specific settings, globals
                    are flood-msg & flood-nick
          Beldin    check_tcl_msg[m] was being passed the wrong uhost
          Beldin    ^H in dcc_chat was hanging again
          Beldin    simple_sprintf %c needed to use int not char
                    [with thanks to Mr. gdb-via-irc Oldgroo]
          Beldin    index doesn't return the same on SunOS, use strchr
          Beldin    some systems can't handle non-constants in structure defs
                    (occurs in struct flag_record defs)

+kkdoc
Found by  Fixed by  What...
          KingKurly re-added the addpatch and delpatch from earlier patch,
                    not included in later versions for some reason
          KingKurly fixed up a whole heck of a lot of docs, including
                    zillions of spelling errors, etc etc

+bel10
Found by  Fixed by  What...
          Beldin    .-user wasn't reporting unknown user correctly
          Beldin    .+bot segv in add_bot_hostmask*slap*
          Beldin    sending userfile wasn't storing channel records
          Beldin    fixed seen.so crashed
          Beldin    .op was newspit'n in the wrong place
          Beldin    neat->old botnet away msgs were getting garbled

+BBub4
Found by  Fixed by  What...
          Beldin    Fixed /MSG OP for +o-f's
          BB        Fixed .op.
          Beldin    Fixed +o-f deopping himself and being -o'd in the
                    userfile on +bitch
          BB        Fixed .kickban

+bel9
Found by  Fixed by  What...
          Beldin    fixed return from relay sending bad botnet channel join
          Beldin    some documentation overhaul (much more needed)
          Beldin    added neat_botnet nick-change message, make change nicks
                    over the 1.2.1 portion of the botnet smaller
          Beldin    removed chanout, all calls can use chanout_but
          BB        fixed a bug in check_chanlist (->next twice)
          Beldin    +host wasn't letting owners add their own hostmask
          Beldin    detect_flood was assuming chan was valid
          Beldin    assoc modules wasn't chanout'n right
          Beldin    fixed compile time error if no RTLD_NOW defined
          Beldin    zero length info line were being displayed
          Beldin    moved reject_bot into autolink_cycle since that's where it was used

+bel8
Found by  Fixed by  What...
          Beldin    fixed .nick/.chnick bugs
          Beldin    .motd wasn't broadcasting to old bots correctly

+ident
Found by  Fixed by  What...
          Raist     telnet identd verification. Yes, this thwarts botscans.
          Beldin    fixes & tidying up (and adding of my own bugs!! :)

+BBlang3
Found by  Fixed by  What...
          BB        Fixed crash on non-ident'd MSG OP requests
          BB        Fixed spewed info line length on channel
          BB        Moved setlaston below showinfo - time(NULL) - laston was
                    always 0. (broke in bel6)
          BB        Fixed a silly bug in action.fix.tcl
          BB        Insignificant change to ques3.tcl, and really not worth
                    mention
          BB        Yet another insignificant change. This time in wire.mod
          BB        Fixed woobie.mod for missing DCC command parameters
          BB        Minor fixes to seen
          BB        Wire.mod fully operational

+bel7+pop1
Found by  Fixed by  What...
          Beldin    .loadmodule that didn't find a _start function wasn't
                    unloading the module
          Beldin    -ignore <hostmask> was SEGV'n
          Beldin    +autovoice +v(oice)/+q(uiet) are now all valid settings
          BB        Yet more language conversion stuff
          BB/       Added HOOK_SECONDLY for adding the equivalent of TCL
          Beldin    'utimer'
          Beldin    botinfo/bottree are bot +t commands, llamas may gain
                    unwanted info from them
          Beldin    +d/+k could use -|- bound commands
          Beldin    added flags.c with better flags/binding/match support
          Beldin    raw_dcc_send was reversing the IP on send
          Beldin    minor .console hole which allowed +m flag access to
                    non +m channels
          poptix    add local bot to .botinfo replies
          poptix    enhancements to .invite
          poptix    .chansave/.chanload were trying to work even without a
                    channel file
          poptix    flush shouldn't be in help anymore, cosmetic fix to
                    addpatch

+bel6
Found by  Fixed by  What...
          Beldin    update dependencies, fix nlinked pass-on to old botnet
          bots, fix duplicate botnet act's
          Beldin    botnet handshake now comes after version
                    (incompatibility, get old ver bot to link to new ver
                    bot first time)
          Beldin    merged mprintf/hprintf fully into dprintf, use
                    dprintf(DP_SERVER) for mprintf, dprintf(DP_HELP) for
                    hprintf
          Beldin    added mode-buf-length & debug-output tcl vars
          Beldin    neatened up the config file layout a little
          Beldin    notes.so allow optional note storage support now
          Beldin    relay wasn't triggering all the chon/chfn etc bindings
                    quite right also scripts now trigger chon/choff
          Beldin    new binding types: away - botnet away msg, nkch - user
                    changing their handle

+BBlang2
Found by  Fixed by  What...
          BB        Yet more language conversion stuff
          BB        Fixed .su
          BB        Fixed .relay
          BB        Fixed NICKLEN (We needed to add 1)
          BB        Changed NEAT_BOTNET to 1020107 from 1020100 to handle pre-bel5 bots

+bel5
Found by  Fixed by  What...
          BB        Dunno... ask beldin
          Beldin    honest, I did lotsa work!

+bel4
Found by  Fixed by  What...
          Beldin    assoc.so now uses zapf & tcl calls rather than 5 hooks
                    (robey was right about that ;)
          Beldin    out_dcc_general, out_dcc_chat, out_dcc_script weren't
                    using the cr-added string to send
          BB        Fix to add_server
          Beldin    Fix to clearq
          ????      tcl "ischanban" not "ischan" DOOFUS

+bel3+BBlang+kk
Found by  Fixed by  What...
          KingKurly Fixed general spelling errors in src/
          KingKurly Fixed some language in src/ for our younger users
          KingKurly Re-did eggdrop.conf, fixing spelling, grammar, logic
                    errors, and adding comments to attempt to make it
                    easier to understand
          KingKurly Added a .back command, self explanatory. You can still
                    use the old way to set yourself back if you want, this
                    just makes sense :)
          Beldin    Fixed .console, only +n could use it to change flags
          Beldin    Fixed a bug where if you didn't load the share module,
                    the bots would constantly send each other messages,
                    which caused some problems
          Beldin    removed the requirement of at least 1 irc channel
          Beldin    buffer overflow in net.c
          Kirk      fixes to .sort
          Kirk      some command permissions were screwy in the filesys
          Kirk      new passwords via telnet should be 15 bytes
          Beldin    only botmaster of better can change +b console log
          Beldin    serverlist is now a structure rather than a packed string
          Beldin    .unlink * & unlinking of a bot weren't calling check_tcl_chpt/check_tcl_disc as is logical
          Beldin    botnet 'joins' for channel changes weren't calling check_tcl_chpt
          Beldin    all irc related got's should now check vs the correct botnick
          Beldin    removed tprintf totally (now use dprintf/mprintf)
          Beldin    missing \n in cmd_simul help
          Beldin    server-cycle-wait added to slowdown server connects
          Beldin    found a memory leak that's been around for years with userfile sharing
          Beldin    MAJOR overhaul of ban/ignore handling - structures rather than packed strings
          Beldin    fixed my own ./putegg stupidity
          Beldin    user lists are now much easier to extend

          Beldin    started overhauling botnet
          Beldin    tokens & 64bit ints between bots >= 1.2.1
          Beldin    no broadcast of redundant bot garbage e.g.:
                    *** (Bot) Linked to fred  when nlinked is being sent
          Beldin    support for 15 char nicks
                    *note* this doesn't mean they will work yet

v1.2.0+bel2+BBlang
Found by  Fixed by  What...
          ????      TCL "language" command for startup script language
                    loading.
          ????      DCC ldump command for debugging messages.
          BB        Implemented language.so and new function get_language()
                    for accessing the message language system.
          BB        More changes converting text output messages to #defines
                    for language support.
          BB        Pondered correcting beldin's grammar regarding a
                    particular soft-drink, but didn't get THAT anal. (Them
                    Ozzies are so lazy, they can't even bother pushing the
                    shift-key when they should *Sn0rT* TWO occurrences, BTW :)
          Beldin    changed rembot back, since order DID matter
          Beldin    fixed a few tcl function name typos

v1.2.0+bel1
Found by  Fixed by  What...
          Beldin    fixed lame vbottree error
          Beldin    optimized unvia & delparty at the expense of order
          Beldin    fixed a whole pile of OSF warnings
          Beldin    fixed eraseme's whines: .filestats is now a .files
                    command, .chaninfo restricts +m ness
          Beldin    .filestats wasn't reporting nick
          Beldin    english & slang still in config file
          Beldin    mkdir $1/modules missing from putegg
          Beldin    excess print in write_debug
          Beldin    share wasn't sending error right if there wasn't enough
                    dcc slots to SEND a userfile + missing #include
          Beldin    geticon clash in wire.c
          Beldin    #ifdef EBUG messup in tclhash.c
          Beldin    typoed name of validuser tcl command
          Beldin    '.binds <type> all' now works as you might expect
          Beldin    .wire off was SEGV'n in some cases
                    (plus a few missing \n's)
          Beldin    bitch wasn't being bitchy enough on join :)
          Beldin    various bug fixes to bothost sharing and lastbind

v1.2.0alpha
Found by  Fixed by  What...
          BB        legendary seen.so
          Beldin    +/-chanrec should propagate on the sharebot's now
          Beldin    .adduser & /msg hello now add relevant chanrec's
          Beldin    removed +bothost/-bothost/botattr since they arn't
                    needed now
          Beldin    channel +m's can only see channel's they have access
                    to in .status
          Beldin    now a static linking option, link in all modules at
                    link time [this ones for you somni :P]
          Beldin    .bottree upgrade (also try .vbottree)
          Beldin    laston times on a bot a prefixed by @
          Beldin    AT LAST laston times should update on quit
          Beldin    use-console-r, max-dcc & enable-simul now tcl vars
          Beldin    .set/.tcl/.simul are now just un-bound commands in
                    the config file
          Beldin    .act/.say/.kick/.kickban can now take a channel argument
          Beldin    any user can now -host themselves
          Beldin    remote-boots, bounce-bans, use-silence, private-owner &
                    allow-resync are now tcl vars
          Beldin    share.so added - which includes channel specific +s
          Beldin    help files updated to new binding format
          Beldin    you can ONLY make a module bot now
          Kirk      .sort command for filesys
          ????      tcl-commands updates for various commands
          Beldin    dcc chat connections weren't logging
          Beldin    whoops, fixed up the ctcp's I messed up
          Beldin    console +r is +n only now
          Beldin    modules now live in modules/
          Beldin    fixed sticky bans sharing finally
          Beldin    .su was broadcasting parts/joins for local channels &
                    wasn't showing returns upon channel return
          Beldin    static channels settings are now save
                    (using channel set) in the channel file
                    (yes removal from config should work)
          Beldin    removed NO_FILE_SYSTEM, if you want to run the bot
                    without it, use modules
          Beldin    chanset/chaninfo will use your console channel if no
                    channel provided
          Beldin    raw binding now use exact matching of codes
          Beldin    lastonchan now is a char * & is updated for the
                    botnet & file areas too
          Beldin    lowercase-ctcp, answer-ctcp, trigger-on-ignore,
                    debug-tcl, raw-binds die-on-sighup & die-on-sigterm are
                    now tcl settings (answer-ctcp is maximum ctcp's to answer)
          Beldin    complete rehashed the way modules are done, relying more
                    on the OS to resolve functions, this should be nearly
                    transparent to actual modules
          Beldin    removed support for ancient compilers
          Beldin    .adduser would let you add the dumb characters in a handle
          Beldin    fixed dcc chat for +x only users
          Beldin    swapped the args in msg_* to make it fit the hashtable
                    pattern
          Beldin    server queues now prioritized, mode queue has precedence
          Beldin    DCC_ types are handled a function-call table now rather
                    than (stupid) huge case statements..allows more
                    versatility with connects
          Beldin    +u is now checked at the RECEIVING end of sharing
          Beldin    binding change (is it time to jump to 1.2?) ->
                    the flags section of bindings is now in the form:
                    [globalflags][operator[chanflags]]
                    global flags matches vs global flags only, operator is
                    one of & or | & implies EXACT match i.e. if you use o&n
                    it will match only global +o AND channel +n, whereas |
                    is or, i.e. any will trigger it eg: Bo|o will trigger by
                    a botnet master OR a global op OR a channel op. THIS
                    WILL BREAK ANY SCRIPT that uses O/M/N in bindings
                    (woohoo ;) (OR is the default take note)
          Beldin    also applies to help/text outputs (someone go through
                    and change these all please)
EraseMe   BB        Made global variable to specify whether the server
                    connection should be closed when an ERROR from the
                    server is received.
          Beldin    Merged hash.c into tclhash.c
          robey     .save now displays a confirmation
          Beldin    modules can now create their own hash tables
          Beldin    added load/unld <module> bindings to allow scripts to
                    configure when a module is loaded
          BB        Added MODULE hooks in blowfish for `encrypt_string' and
                    `decrypt_string'.
          BB        New module `woobie' to serve as a skeletal/sample module.
          BB        New module `wire.so' which replaces `wire.tcl'.
          BB        Minor fixes for NO_IRC.
          Raistlin/ More work on converting messages to `english.h'
          BB        definitions for language support. Currently, only user
                    messages are being converted (not TCL or party-line
                    messages).
          ????      Moved CLIENTINFO definitions to `english.h' for language
                    support.
          BB        QUIET_REJECTION definition has been changed from a
                    compile-time option to a run-time variable `quiet-reject.'
          BB        If MODULES are being compiled, the NO_FILE_SYSTEM
                    definition is now undefined. (e.g. just don't
                    `loadmodule filesystem')
          BB        `CHECK_STONED' definition has been changed from a
                    compile-time option to a run-time variable `check-stoned.'
          BB        Installed a working wire.tcl for 1.1+ bots.
                    (Yes, it was still broke here)
          BB        FEATURES.1.1.x added, and README updated with MODULE
                    information.
          BB        `userinfo1.0.tcl' script added to add commands and
                    `whois' output fields for additional user information.
          BB        New global variable `numversion' containing the numeric
                    source version from `version.'
          BB        New global variable `lastbind' for identifying what
                    bound command triggered a tcl routine.
          BB        If a permanent owner was -mn'ed, the +n would be
                    retained, but that owner would not be able to effect
                    .chattr's because he would not have a +m himself.
                    Hence, he could not even +m himself to fix it.
          BB        .who now reports DCC socket numbers to OWNERs.
          BB        DCC socket numbers ONCE AGAIN removed from inter-bot
                    note displays.
          BB        Bug in filesys module when no files-path caused a crash.
                    (added a new call to the filesys module: FILESYS_ISVALID).
          BB        Makefiles modified and cleaned to not relink when
                    unnecessary. (eggdrop and *.so's are no longer mv'd, but
                    are -o'd to the base source directory for dependency)
          BB        Added `strict-servernames' variable from to not update
                    the server list when servers identify themselves
                    differently.
          BB        More fun help file grammar changes... Still not done yet.
          BB/       new tcl var: dcc-flood-thr - dcc flood threshold
          Beldin
          BB/       Removed #define OWNER - always an owner now
          Beldin
          paranorml tcl_chpass needed 16 byte password buffers
          Beldin    small change to tcl-commands.doc
          Beldin    change to configure for helping deal with fr0k3 Linux
                    libdl.so setup
